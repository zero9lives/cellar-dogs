<!DOCTYPE html>
<html>
<head>
    <title>Firebase Test</title>
</head>
<body>
    <h1>Firebase Connection Test</h1>
    <button onclick="testWrite()">Test Write</button>
    <button onclick="testRead()">Test Read</button>
    <div id="status"></div>

    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-database-compat.js"></script>
    
    <script>
       const firebaseConfig = {
        apiKey: "AIzaSyDh7E-223PicBisdncqF-_ikwH0g5bjn8w",
        authDomain: "cellardogs-8c63a.firebaseapp.com",
        projectId: "cellardogs-8c63a",
        storageBucket: "cellardogs-8c63a.firebasestorage.app",
        messagingSenderId: "680527952911",
        appId: "1:680527952911:web:af64d3370400da0962377a",
        measurementId: "G-ZP74GWSF4X"
      };


        firebase.initializeApp(firebaseConfig);
        const database = firebase.database();

        function updateStatus(message) {
            document.getElementById('status').innerHTML += message + '<br>';
            console.log(message);
        }

        function testWrite() {
            updateStatus("Testing write...");
            database.ref('puzzles/test').set({
                solved: true,
                timestamp: Date.now()
            }).then(() => {
                updateStatus("✅ Write successful!");
            }).catch((error) => {
                updateStatus("❌ Write failed: " + error.message);
            });
        }

        function testRead() {
            updateStatus("Testing read...");
            database.ref('puzzles/test').once('value').then((snapshot) => {
                updateStatus("✅ Read successful: " + JSON.stringify(snapshot.val()));
            }).catch((error) => {
                updateStatus("❌ Read failed: " + error.message);
            });
        }

        // Auto-test on load
        updateStatus("Firebase initialized");
        testWrite();
    </script>
</body>
</html>
